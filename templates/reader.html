<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>QR code read!</title>
</head>
<body>
<h1> QR code decoded!</h1>
{% if result.success %}
        <h2>✅ QR Code Successfully Read!</h2>
        <p><strong>Decoded Content:</strong></p>
        <div class="result-text">{{ result.data }}</div>

        {% set url = result.data %}
        {% if url.startswith('http://') or url.startswith('https://') %}
            <!-- URL already has protocol -->
            <p><a href="{{ url }}" target="_blank" class="link-button">🔗 Click to visit this link</a></p>
        {% elif url.startswith('www.') or '.' in url %}
            <!-- Looks like a website, add https:// -->
            <p><a href="https://{{ url }}" target="_blank" class="link-button">🔗 Click to visit this link</a></p>

        {% endif %}
{% else %}
    <div class="error">
        <h2>❌ Failed to Read QR Code</h2>
        <p>{{ result.error }}</p>
    </div>
    {% endif %}
 <br>
    <a href="/"><button>🔄 Try Another</button></a>
</body>
</html>