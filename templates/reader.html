<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <title>QR code read!</title>
</head>
<body>
<div class="p-3 mb-2 bg-success text-white">
    <h1> QR code decoded!</h1></div>
{% if result.success %}
        <p><strong>Decoded Content:</strong></p>
        {% set url = result.data %}
        {% if url.startswith('http://') or url.startswith('https://') %}
            <!-- URL already has protocol -->
            <p><a href="{{ url }}" target="_blank" class="link-button">🔗 Click to visit this link</a></p>
        {% elif url.startswith('www.') or '.' in url %}
            <!-- Looks like a website, add https:// -->
            <p><a href="https://{{ url }}" target="_blank" class="link-button">🔗 Click to visit this link</a></p>

        {% endif %}
{% else %}
    <div class="error">
        <h2>❌ Failed to Read QR Code</h2>
        <p>{{ result.error }}</p>
    </div>
    {% endif %}
 <br>
    <a href="/"><button class="btn btn-primary">🔄 Try Another</button></a>
</body>
</html>